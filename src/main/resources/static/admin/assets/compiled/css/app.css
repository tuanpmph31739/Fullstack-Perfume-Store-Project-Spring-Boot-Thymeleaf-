/* =========================
   F PERFUME – ADMIN LITE CSS
   Giữ lại những gì đang dùng: layout, sidebar, header, card, table, form, badge, dropdown
   YÊU CẦU: đã load Bootstrap 5 qua CDN trước file này
   ========================= */

/* 1) CSS Variables (chủ đạo) */
:root{
    --fp-primary:#435ebe;
    --fp-primary-600:#3b51a6;
    --fp-primary-50:#eef2ff;
    --fp-bg:#f6f8fb;
    --fp-card:#ffffff;
    --fp-text:#1f2937;
    --fp-muted:#6b7280;
    --fp-border:#e5e7eb;
    --fp-shadow:0 10px 20px rgba(2,8,23,.05);
    --fp-radius:16px;
}

/* 2) Reset nhỏ + base */
html,body{height:100%;}
body{
    background:var(--fp-bg);
    color:var(--fp-text);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
}

/* 3) Layout khung trái–phải */
.wrapper{display:flex;min-height:100vh;gap:0;}
#main{flex:1;min-width:0;padding:24px 28px;}

/* =======================
   SIDEBAR – Polished Look
   ======================= */
/* =======================
   SIDEBAR – Light Modern
   ======================= */
#sidebar{
    width:250px; position:fixed; inset:0 auto 0 0; height:100vh;
    background:#fff; color:#1e293b; border-right:1px solid #e5e7eb;
    box-shadow:4px 0 15px rgba(0,0,0,.04); z-index:1000; overflow-y:auto;
    transition:left .3s ease;
}
#sidebar.inactive{ left:-250px; }
#main{ flex: 1;
    min-width: 0;
    padding: 24px 28px;
    margin-left: 250px;          /* khớp với sidebar */
    display: flex;
    flex-direction: column;      /* header – content – footer xếp dọc */
    min-height: 100vh; }
#sidebar.inactive ~ #main{ margin-left:0; }

#sidebar .logo{ width:60%; border-radius:8px; transition:transform .3s; }
#sidebar .logo:hover{ transform:scale(1.05); }

.menu-divider{ border:0; border-top:1px dashed #e2e8f0; width:80%; margin:12px auto; }

.sidebar-title{
    font-size:.75rem; text-transform:uppercase; letter-spacing:.06em;
    color:#64748b; padding:8px 14px; margin-bottom:4px;
}

.sidebar-link{
    display:flex; align-items:center; gap:12px; padding:10px 14px;
    color:#334155; border-radius:12px; font-weight:500; text-decoration:none;
    transition:all .25s ease;
}
.sidebar-link i{ font-size:1.1rem; width:22px; text-align:center; color:#64748b; transition:all .25s; }
.sidebar-link:hover{ background:rgba(67,94,190,.10); color:#435ebe; transform:translateX(3px); }
.sidebar-link:hover i{ color:#435ebe; transform:scale(1.15); }

/* Active item (ưu tiên cao, không bị rule sau ghi đè) */
#sidebar .sidebar-item.active > .sidebar-link{
    background:#eef2ff; color:var(--fp-primary); font-weight:600;
    border-left:4px solid var(--fp-primary); border-radius:12px;
    box-shadow:inset 0 0 0 1px rgba(67,94,190,.08);
}
#sidebar .sidebar-item.active > .sidebar-link i{ color:var(--fp-primary); }
#sidebar .sidebar-item.active > .sidebar-link:hover{ background:#eef2ff; color:var(--fp-primary-600); }

/* Submenu */
.submenu{
    list-style:none; margin:6px 0 6px 0; padding:0 0 0 12px; /* bỏ vạch dọc */
    overflow:hidden; max-height:0; opacity:0; transform:translateY(-4px);
    transition:all .25s ease;
}
.sidebar-item.has-sub.active > .submenu{ max-height:600px; opacity:1; transform:translateY(0); }

.submenu-item > a{
    display:block; padding:8px 10px; color:#64748b; border-radius:8px;
    font-size:.9rem; text-decoration:none; transition:all .2s ease;
}
.submenu-item > a:hover{ color:#435ebe; background:rgba(67,94,190,.08); }
.submenu-item.active > a{
    color:var(--fp-primary); background:rgba(67,94,190,.12); font-weight:600;
    border-left:3px solid var(--fp-primary); padding-left:12px;
}

/* Chevron */
.sidebar-item.has-sub > .sidebar-link::after{
    content:""; width:8px; height:8px; border-right:2px solid currentColor; border-bottom:2px solid currentColor;
    transform:rotate(-45deg); margin-left:auto; opacity:.4; transition:transform .25s ease;
}
.sidebar-item.has-sub.active > .sidebar-link::after{ transform:rotate(45deg); opacity:1; }

/* Scrollbar */
#sidebar::-webkit-scrollbar{ width:8px; }
#sidebar::-webkit-scrollbar-thumb{
    background:linear-gradient(180deg, rgba(67,94,190,.30), rgba(67,94,190,.15)); border-radius:10px;
}

/* Mobile */
@media (max-width:992px){
    #sidebar{ left:-250px; }
    #sidebar.active{ left:0; }
    #main{ margin-left:0 !important; }
}

/* 5) HEADER (navbar trên) */
.header{
    background:var(--fp-card);
    border:1px solid var(--fp-border);
    border-radius:var(--fp-radius);
    padding:14px 18px;margin-bottom:18px;
    box-shadow:var(--fp-shadow);
    position: sticky;
    top: 0;
    z-index: 1030;
}
.header .burger-btn{
    display:flex;align-items:center;justify-content:center;
    width:40px;height:40px;border-radius:12px;color:var(--fp-primary);
    background:#eef2ff;border:1px solid #e6e9ff;
    transition:.2s;
}
.header .burger-btn:hover{transform:translateY(-1px);}
.header .form-control{
    background:#f8fafc;border:1px solid var(--fp-border);
}
.header .btn.btn-light{
    border:1px solid var(--fp-border);
    background:#f8fafc;
}
.header .dropdown-menu{
    border:1px solid var(--fp-border);
    box-shadow:var(--fp-shadow);
    border-radius:14px;overflow:hidden;
}

/* 6) Page heading */
.page-heading .page-title h3{
    margin:0 0 6px;font-weight:700;color:#0b1020;
}
.page-heading .page-title .breadcrumb{margin:0;color:var(--fp-muted);}

/* 7) Card */
.card{
    background:var(--fp-card);
    border:1px solid var(--fp-border);
    border-radius:var(--fp-radius);
    box-shadow:var(--fp-shadow);
    overflow:hidden;
}
.card-header{
    background:linear-gradient(180deg,#ffffff, #fbfbfe);
    border-bottom:1px solid var(--fp-border);
    padding:14px 18px;
}
.card-header h5{margin:0;font-weight:700;color:#0b1020;}
.card-body{padding:18px;}

/* 8) Bảng (table) */
.table{
    border-collapse:separate;border-spacing:0;
    background:#fff;border:1px solid var(--fp-border);
    border-radius:12px;overflow:hidden;
}
.table thead th{
    background:#f7f7fb;color:#475569;
    font-weight:700;border-bottom:1px solid var(--fp-border);
}
.table tbody tr{transition:background .15s ease;}
.table tbody tr:nth-child(even){background:#fafafa;}
.table tbody tr:hover{background:#f3f6ff;}
.table td,.table th{vertical-align:middle;padding:.9rem .8rem;border-top:0;}
.table .actions .btn{--bs-btn-padding-y:.3rem;--bs-btn-padding-x:.5rem;}

/* 9) Nút (primary + ghost) */
.btn-primary{
    --bs-btn-bg:var(--fp-primary);
    --bs-btn-border-color:var(--fp-primary);
    --bs-btn-hover-bg:var(--fp-primary-600);
    --bs-btn-hover-border-color:var(--fp-primary-600);
    --bs-btn-focus-shadow-rgb:67,94,190;
    --bs-btn-active-bg:var(--fp-primary-600);
}
.btn-ghost{
    background:#f8fafc;border:1px solid var(--fp-border);
    color:#0b1020;
}
.btn-ghost:hover{background:#eef2ff;border-color:#dfe4ff;}

/* 10) Badge nhỏ */
.badge.rounded-pill{padding:.35rem .55rem;font-weight:600}

/* 11) Form nhỏ gọn */
.form-control, .form-select{
    border:1px solid var(--fp-border);border-radius:12px;
}
.form-control:focus, .form-select:focus{
    border-color:#c7d2fe; box-shadow:0 0 0 .25rem rgba(67,94,190,.12);
}

/* 12) Pagination */
.pagination .page-link{
    border:1px solid var(--fp-border);color:#334155;
}
.pagination .page-item.active .page-link{
    background:var(--fp-primary);border-color:var(--fp-primary);
}

/* 13) Utilities nhỏ (cần dùng) */
.rounded-xl{border-radius:var(--fp-radius);}
.shadow-soft{box-shadow:var(--fp-shadow);}
.text-muted-600{color:var(--fp-muted)!important;}
.bg-soft-primary{background:#eef2ff;}
.border-light{border-color:var(--fp-border)!important;}

/* =============== TABLE – ổn định bố cục, không cần width theo px cho cột =============== */
.table.table-fixed {
    table-layout: fixed;   /* chia đều/ổn định theo số cột */
    width: 100%;
    border-collapse: collapse; /* nhìn nhất quán giữa các trang */
}

/* Ô dữ liệu không nở vì text dài */
.table.table-fixed th,
.table.table-fixed td {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    vertical-align: middle;
}

/* Tên sản phẩm có thể hiển thị 2 dòng (không cần đặt width cột) */
.table .cell-name {
    white-space: normal;
    display: -webkit-box;
    -webkit-line-clamp: 2;          /* tối đa 2 dòng */
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* Cột hành động và các nút: không xuống dòng để khỏi đẩy cột */
.table td.actions,
.table .actions {
    white-space: nowrap;
}

/* Canh phải cột số (nếu bạn gán class ở th/td) */
.table .num,
.table .price,
.table .qty {
    text-align: right;
}

/* Ảnh sản phẩm giữ kích thước nội dung, không ảnh hưởng chia cột */
.table img.thumb {
    width: 48px; height: 48px; object-fit: cover; border-radius: 8px;
    display: inline-block;
}

/* Khi không có dữ liệu: hàng trống hiển thị ổn định giữa các trang */
.table tbody tr.is-empty td {
    white-space: normal; text-align: center; color: var(--fp-muted);
    padding: 1rem;
}

/* Tuỳ chọn: sticky header để 2 trang cảm giác giống nhau khi cuộn */
.table-fixed thead th {
    position: sticky; top: 0; z-index: 1;
    background: #f7f7fb;
}

/* ==== TABLE CARD – pagination đứng im, bảng cuộn bên trong ==== */
/* Card bảng chiếm theo viewport, footer không nhảy */
.card.table-card{
    display:flex; flex-direction:column;
    height:clamp(520px, calc(100dvh - 220px), 80vh);
}
.card.table-card .card-body{
    flex:1 1 auto;
    padding-bottom:0;
    overflow:auto;           /* một dòng là đủ: tránh x + y trùng nhau gây cuộn kép */
}
.card.table-card .table{ margin-bottom:0; }
.card.table-card .card-footer{
    margin-top:auto; background:var(--fp-card); border-top:1px solid var(--fp-border); padding-top:10px;
}
@media (max-width:992px){
    .card.table-card{ height:clamp(480px, calc(100dvh - 260px), 75vh); }
}

/* Nút hành động trong bảng */
.table .actions .btn {
    width: 34px;
    height: 34px;
    border-radius: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    margin: 0 2px;
}

.table .actions .btn i {
    font-size: 1rem;
    line-height: 1;
}

/* Hiệu ứng hover riêng cho từng màu */
.table .actions .btn-outline-primary:hover {
    background-color: #435ebe;
    color: #fff;
}

.table .actions .btn-outline-danger:hover {
    background-color: #dc3545;
    color: #fff;
}

.table .actions .btn-outline-info:hover {
    background-color: #0dcaf0;
    color: #fff;
}

/* Giữ kích thước ổn định khi trang khác số hàng */
.table td.actions {
    white-space: nowrap;
    vertical-align: middle;
    text-align: center;
}
.table td.actions { white-space: nowrap; vertical-align: middle; }

.btn.btn-icon{
    width: 36px; height: 36px;
    display: inline-flex; align-items: center; justify-content: center;
    border-radius: 10px;
    border-width: 1px;
    margin: 0 2px;
    transition: all .2s ease;
}

.btn.btn-icon i{ font-size: 1rem; line-height: 1; }

/* Hover state rõ ràng theo màu */
.btn-outline-primary:hover{ background-color: #435ebe; color: #fff; }
.btn-outline-danger:hover{ background-color: #dc3545; color: #fff; }

/* Với btn-sm vẫn giữ kích cỡ nút icon */
.btn.btn-icon.btn-sm{ width: 32px; height: 32px; border-radius: 8px; }

/* Cho phép cuộn ngang khi màn hình hẹp */
body, .wrapper, #main {
    .table-scroll,
    .table-wrapper,
    .table-responsive{
        width:100%;
        overflow-x:auto;
        -webkit-overflow-scrolling:touch;
    }
}
.table-wrapper, .table-responsive {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}
/* Khối bọc cho phép cuộn ngang, mượt trên mobile */
.table-scroll{
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}

/* Quan trọng: ép bảng có bề rộng tối thiểu để tạo overflow */
/* Chọn min-width theo số cột: 7 cột ~ 7*140 = 980px (tuỳ bạn chỉnh) */
.table-scroll .table{
    min-width: 1400px;  /* ví dụ cho 7 cột; 10 cột có thể ~1200–1400px */
}
@media (max-width: 992px){
    .table.table-fixed{
        table-layout: auto;     /* cho phép cột lấy width nội dung tự nhiên */
    }
}

/* (tuỳ chọn) thanh cuộn ngang hiển thị rõ ràng */
.table-scroll::-webkit-scrollbar{ height: 10px; }
.table-scroll::-webkit-scrollbar-thumb{
    background: rgba(0,0,0,.15);
    border-radius: 6px;
}
.wrapper{
    display: flex;
    min-height: 100vh; /* đã có, giữ lại */
}

#main{
    display: flex;
    flex-direction: column;   /* xếp dọc: header, page-content, footer */
    min-height: 100vh;        /* đảm bảo đủ cao để footer chạm đáy màn hình */
    /* margin-left do sidebar vẫn giữ như bạn đã cấu hình */
}

/* Khu vực nội dung chiếm hết phần dư giữa header và footer */
.page-content{
    flex: 1 1 auto;
    min-height: 0;            /* tránh tạo scroll ảo khi con có overflow */
}

/* Nếu dùng card.table-card cố định chiều cao: để nó cuộn nội bộ */
.card.table-card .card-body{
    overflow: auto;           /* bảng cuộn trong body, không đẩy footer */
}

/* Cho phép cuộn ngang khi hẹp (tránh footer “nhảy” vì tràn chiều ngang) */
.table-scroll, .table-responsive{
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}

/* Footer: giao diện & chiều rộng ổn định toàn trang */
.footer{
    width: 100%;
    background-color: #f8f9fa;
    box-shadow: 0 -2px 8px rgba(0,0,0,.05);
    border-top: 1px solid var(--fp-border);
}
.footer > div{
    max-width: none !important;
    padding: 0 15px;
    width: 100%;
}
.order-last {
    margin-bottom: 20px; /* tuỳ chỉnh khoảng cách */
}
